#!/usr/bin/env node

const program = require('commander');
const { resolve } = require('path');
const commands = require('../lib');
const { version } = require('../package.json');

process.env.NODE_PATH = resolve(__dirname, '../node_modules/');

program.version(version, '-v, --version');

program.usage('<command>');

program
	.command('new <project-name>')
	.description('Create a React+Electron+TypeScript project.')
	.alias('n')
	.action(commands.create);

program.command('dev').description('Run your app in dev mode.').action(commands.dev);

program
	.command('dist')
	.description('Build your app source code and pack it.')
	.action(commands.dist);

program
	.command('eup <source> <target>')
	.option('-d, --decompress', 'Decompress with EUP')
	.description('Make electron update package with EUP.')
	.action(commands.eup);

program.parse(process.argv);

if (!program.args.length) {
	program.help();
}
